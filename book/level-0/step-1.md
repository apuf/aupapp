## Начало

Для работы с сайтами необходимо знать несколько вещей
1. протокол http
2. язык разметки html
3. язык разметки css
4. язык программирования для браузеров JavaScript(ECMAScript)
5. один из серверных языков (PHP/Python/Java/javaScript(ECMAScript)/Go)

## Сервера
Сервер это некое устройство для оказания неких сервисов. Это может быть ваш
домашний компьютер, некое устройство (например маршрутизатор или роутер) или даже
кофеварка =)
Эту часть обычно называют железо или hardware

Но простого железа для оказания услуг мало - нужны некоторые программы для него.
Эту часть называют ПО(программное обеспечение) или software (софт).

Человека которой разбирается в серверах называют системным администратором или
админом. Технологий для оказания услуг множество и администратор администратору
розень. Для программиста необходимы базовые знания в этой области а именно

- знание сетей и сетевых протоколов
- знание софта и навыки его обслуживания

Отдельно писать руководство по серверам и их технологиям не хватит и всей жизни.
Так что пока я отложу эту тему.

Пока только основные моменты:

- Сервер как железо - это некое устройство. Планшет или даже смартфон тоже могут
 быть серверами.
- Сеть - это группа устройств соединенных между собой. В современных автомобилях
внезапно тоже есть своя сеть из датчиков и устройств.
- Интернет - это огромная группа разных сетей.

Когда мы заходим на facebook.com через браузер происходит следующее
- браузер посылает запрос нашей операционной системе (Windows/Android/Ios/Linux/MacOs)
- операционная система проверяет наличие устройства для связи и подключение к провайдеру
- далее операционная система разбивает запрос на пакеты - небольшие куски данных и отправляет
их на маршрутизатор (роутер или вышку связи). Если данные теряются то происходит повторная 
передача и так пока не передадутся все.
- маршрутизатор пересылает их другим маршрутизаторам, проверяя их по пути.
- те пересылают запрос серверу провайдера у которого есть прямой доступ в интернет.
- сервер провайдера пересылает запрос другим более провайдерам
- и так пока не найдется специальный сервер который преобразует домен facebook.com в
машинный адрес (ip). Такая программа называется DNS (domain name server). Он может быть
на вашем компьютере если вы его установите, на компьютере провайдера, у регистратора или у самого
facebook. Если ближайший к вам сервер не нашел домен он спросит у соседей и так пока 
мы не найдем facebook.
- DNS сервер выдает нам один из ip адресов facebook (у сайта может быть от одного до бесконечности ip адресов)
- Наше устройство идет уже по ip адресу с протоколом http на этот ip на порт 80.
- сервер facebook принимает наш запрос и дает перенаправление на порт 443 который
принимает протокол https - тот же http но по шифрованному каналу.
- наше устройство снова отправляет запрос по ip facebook на порт 443.
- facebook отсылает нам цепочку сертификатов, наш браузер проверяет её до корневого который
вшит в сам браузер и устанавливает шифрованный канал.
- Далее наш броузер отправляет http(s) запрос facebook с методом GET и адресом запроса
(URL). Facebook отдает в любом случае один и тот-же html документ со скриптом JavaScript(js)
- Наш браузер исполняет js и тот загружает фреймворк React который уже запрашивает другие скрипты,
куски html, картинки, css стили документа и строит из этого виртуальную модель документа.
- Виртуальная модель накладывается на модель браузера и мы сиди наш facebook


## Протокол http (HyperText Transfer Protocol)

Все веб-сайты и приложения для работы используют данный протокол.
Протокол предусматривает сервер и клиент на уровне приложений модели OSI.

Сервером обычно является компьютер на котором установлено серверное приложение
это могут быть web-сервера Nginx, Apachee, ISS либо другие сервера. У веб-сервера 
должен быть ip адрес и на этот адрес должны быть открыты порты 80 или 443. 

Клиентом служит браузер, это может быть googleChrome (Chromium), Mozzila Firefox
Microsoft Edge или Opera. Тысячи их. Браузер довольно сложное приложение, которое
состоит из многих компонентов, обязательным компонентом являются 
Браузерный движок и JavaScript движок. Самыми популярными являются движки:
- Blink (Html) + V8 (js) от google. используются в GoogleChrome/Opera/Vivaldi/Яндекс.Браузер
- Gecko (Html) + SpiderMonkey (js). используются в  Mozzila Firefox
- Edge (Html) + ChakraCore (js). используются в  Microsoft Edge
Причем Blink, V8, Gecko, SpiderMonkey и ChakraCore открытые и на их основе создаются
множество других программ.

Клиент (Например Firefox) отправляет http запрос серверу (Nginx) и сервер возвращает
(или не возвращает) ответ. И запросы и ответы состоят из 2-х частей
- заголовок
- тело ответа

Заголовок запроса выглядит примерно так:

```http
GET / HTTP/1.1
Host: www.google.com
User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate, br
Connection: keep-alive
Cache-Control: max-age=0
```


Заголовок ответа выглядит примерно так:

```http
cache-control:private
content-length:259
content-type:text/html; charset=UTF-8
date:Mon, 06 Mar 2017 17:43:21 GMT
location:https://www.google.com/?gfe_rd=**&ei=**-*******************
status:302
```

Как мы видим заголовки запросов и ответов представляют собой
строки из ключа и значения, например 
```
Host: www.google.com
```
Где `Host` является ключевым словом а `www.google.com` сервером к которому мы 
обращаемся в надежде получить какой либо ответ.

Мы внезапно можем определить и свои заголовки для запросов, но лучше не 
следует этого делать. пока список заголовков можно найти 
[тут](http://www.iana.org/assignments/message-headers/message-headers.xhtml)(англ.)
или
[тут](https://developer.mozilla.org/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8)(перевод.)

Запросы помимо заголовков содержат версию протокола и методы. Есть список 
стандартных методов, но можно определить и свои, однако лучше этого не стоит делать.

Ответы содержат заголовки, коды состояния и контент.
Коды состояния http - это обычное число. расшифровать их можно 
[тут](https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F_HTTP)

После получения кодов состояния браузер совершает те или иные действия, например
переходит на другую страницу (коды 3xx), выдает контент (коды 2xx) или ошибку
(коды 4xx и 5xx).

Контент может отсутствовать или быть неким документом. Документы могут быть разными,
например html/xml/mp3/mp4/js и тд...

Некоторые файлы браузер может разобрать и обработать, а остальные просто скачивает.

## HTML - HyperText Markup Language (язык разметки гипертекста)

Что такое вообще язык заметки - это инструмент который позволяет добавить в обычный
текст некие дополнительные возможности, например размер шрифта, курсив или списки
таблицы и заголовки. Важно понимать что язык разметки не является языком программирования.

Если сказать я программирую на html то для разработчиков это прозвучит как я чиню
автомобиль топором или пытаюсь построить дом перфоратором. На вас косо посмотрят как
на аутиста или дикаря, а дальше дадут конфетку или начнут ругаться.

Существует огромное количество языков разметки, от простых форматов вроде csv или 
markdown на котором я пишу этот документ до довольно серьезных языков вроде html,
xml, LaTex и др.

посмотреть некоторые из можно 
[тут](https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:%D0%AF%D0%B7%D1%8B%D0%BA%D0%B8_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%82%D0%BA%D0%B8),
на английском куда 
[больше](https://en.wikipedia.org/wiki/Category:Markup_languages) 

Если вы видите файлы с расширениями

.htm | .html | .xml | .wsdl | .md | .yaml | .xml | .rst | .csv | .tsv |
.xlsx | .docx | .odt | .svg 

и множество других - то это некие языки разметки. Да файлы word и exel тоже содержат
языки разметки.

Самые простой для понимания язык разметки это пожалуй .csv или .tsv.
Это языки для создания таблиц. comma separated value и tab separated value.

Возьмите обычный блокнот windows и введите несколько слов разделяя их символом `;`
(точка с запятой), сохраните блокнот как "таблица.csv" и откройте в exel - результат вас
удивит. (хотя microsoft те еще "шутники" - сказано же с запятой - нет у них это точка с запятой).

html это тоже простой текст, но для его понимания лучше изучить основы xml.
xml - e*X*tensible *M*arkup *L*anguage - расширяемый язык разметки - это довольно сложный язык, но основа его похода на html;

xml состоит из тегов и атрибутов.

### Теги

Тег (метка) это обычные два слова, которые окружены знаками больше и меньше.

Например: 
```xml
<вася>
    Диалог Васи
<вася/>
```

Первая часть `<вася>` открывает тег. Далее идет текст `Диалог Васи` и после этого 
мы закрываем метку(тег) `</вася>`.

И в html и xml теги закрываются таким-же тегом только с символом `/` (slash).

Есть еще и сокращенная форма
```xml
<вася/>
```
Здесь мы открыли и сразу закрыли тег.

Первый тег - называется корневым и он должен быть только один.
 
Например если мы сделаем так:
```xml
<вася>
    Привет!
</вася>
<петя>
    Здарово!
</петя>
```
То это будет **не правильным** xml - процесс проверки называется валидация и 
обычно говорят что html или xml **не валиден**

Правильный вариант
```xml
<диалог>
        <вася>
            Привет!
        </вася>
        <петя>
            Здарово!
        </петя>
</диалог>
```
В нем есть корневой тег.

### Атрибуты

У тегов могут быть атрибуты, которые подробно описывают тег.

Атрибут состоит из названия и значения. название - текст, где слова разделены не
пробелом а тире. Значение - необязательный параметр - указывается после названия и
заключено в одинарные или двойные кавычки.

Пример:
```xml
<телефоны>
    <телефон производитель="Нокия" модель='m5' дисплей="цветной" цена="500р" операционная-система="Symbian" />
    <телефон производитель='Apple' модель='iphone4' цена='8 000 р' операционная-система="ios" />
    <телефон производитель="Meizu" модель='Мx5' цена="15 000 р" операционная-система="Android6"/>
</телефоны>
```

### Экранирование

Есть небольшая проблема - знаки \< \> \' \" \/ и амперсанд (\&) зарезервированы 
внутри xml как сделать так, чтобы в тексте эти знаки не воспринимались как знаки?
Для этого существует так называемое экранирование.

Если набрать комбинацию `\&amp;` - то эта строка будет обычным текстом \&.
- \"  = \&quot;
- \'  = \&apos;
- \<  = \&lt;
- \> = \&gt;
- \& = \&amp;

### заголовки

Для того чтобы различать html и xml указываются специальные заголовки в самом начале

Выглядят они примерно так

Для XML
```xml
<?xml version="1.0"?>
<вася />
```

Для HTML
```html
<!DOCTYPE html>
<html>
</html>
```

### Кодировки

В Windows используется кодировка cp1251(русская)

Однако браузеры и сервера используют кодировку UTF-8. Поэтому если открыть html
или xml в кодировке cp1251 то браузер воспримет его как файл в UTF-8 и покажет нечто нечитаемое.

Поэтом есть два выхода
1. и он же единственно правильный - сохранять все файлы html/css/js в UTF-8
2. указывать кодировку в самих html/xml.

```xml 
<?xml version="1.0" charset="cp1251"?>
<xml />
```

```html
<!DOCTYPE html>
<html>
    <head
        <meta charset="cp1251" /> 
    </head>
</html>
```

Но еще раз - лучше использовать кодировку `utf-8`

### разница между html и xml

Мы изучили xml. В чем разница между xml и html.
 
1. html не строгий - мы можем забыть закрыть тег и браузер это попробует разрешить
2. html в отличии от xml имеет строго заданные имена для всех тегов и большинства атрибутов
но опять-же это не строгий язык как xml и браузер будет отображать даже не валидный html
3. xml строгий язык - одна ошибка и все пропало

Но все-же валидный html спасет нас от кучи "сюрпризов" и проблем - так что html желательно держать валидным.

### ресурсы для изучения html

[htmlbook.ru](http://htmlbook.ru)

